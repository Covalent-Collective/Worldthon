# Seed Vault - User Flow

## 사용자 페르소나

### Persona 1: 지혜로운 민수 (검색자)

**Demographics:**
- 32세, 서울 거주 직장인
- World App 사용자 (Orb 인증 완료)
- 주 5회 이상 온라인 정보 검색

**Goals:**
- 신뢰할 수 있는 로컬 정보 (맛집, 병원 등)
- AI가 아닌 실제 경험담
- 빠르고 정확한 답변

**Pain Points:**
- "블로그 후기가 다 광고 같아요"
- "ChatGPT는 서울 골목을 몰라요"
- "누가 쓴 건지 알 수 없어서 불안해요"

**Behavior:**
- 정보 검색 시 출처를 중요시함
- 커뮤니티 후기 선호
- 프리미엄 정보에 월 1-2만원 지불 의향

---

### Persona 2: 공유하는 지영 (기여자)

**Demographics:**
- 45세, 서울 토박이 자영업자
- World App 얼리어답터
- SNS에 로컬 정보 공유 활발

**Goals:**
- 자신의 지식/경험 가치 인정받기
- 부수입 창출
- 커뮤니티 기여

**Pain Points:**
- "블로그 써봤자 광고에 묻혀요"
- "내 정보가 AI 학습에 쓰이는 게 싫어요"
- "기여해도 보상이 없어요"

**Behavior:**
- 주 2-3회 정보 공유
- 본인 정보의 인용/공유에 민감
- 투명한 보상 체계 선호

---

### Persona 3: 전문가 영진 (고급 기여자)

**Demographics:**
- 38세, 산부인과 전문의
- Orb 인증 완료
- 의료 정보 공유에 관심

**Goals:**
- 정확한 의료 정보 전파
- 전문가로서의 평판 구축
- 환자 교육 기여

**Pain Points:**
- "인터넷 의료 정보가 너무 부정확해요"
- "익명 커뮤니티는 책임감이 없어요"
- "전문 지식 공유할 신뢰 플랫폼이 없어요"

**Behavior:**
- 주 1회 전문 정보 공유
- 높은 품질 기준
- 출처 명시 중요시

---

## Flow 1: 첫 방문 사용자

```
┌─────────────────────────────────────────────────────────────┐
│                      World App 실행                          │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    Seed Vault 미니앱 진입                    │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🌱 Seed Vault                                      │   │
│  │  Human Knowledge Repository                         │   │
│  │                                                     │   │
│  │  ┌───────────────────────────────────────────────┐ │   │
│  │  │ ⚫ World ID로 시작하기                         │ │   │
│  │  │    Orb 인증으로 지식을 기여하고 보상받으세요    │ │   │
│  │  └───────────────────────────────────────────────┘ │   │
│  │                                                     │   │
│  │  [174 노드] [58 기여자] [4 봇]                      │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
                    사용자 모드 선택
                    ┌─────┴─────┐
                    ▼           ▼
               검색자 모드    기여자 모드
               (Flow 2)      (Flow 3)
```

---

## Flow 2: 검색자 모드 (지식 탐색)

```
┌─────────────────────────────────────────────────────────────┐
│                     마켓플레이스 (홈)                        │
│                                                             │
│  전문가 봇 리스트:                                          │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🗺️ 서울 로컬 가이드                                  │   │
│  │    24 노드 • 12 기여자                               │   │
│  │    [탐색하기] [기여하기]                              │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                     [탐색하기] 클릭
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    그래프 탐색 화면                          │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔍 "숨은 맛집 추천해줘"                         [→]  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │            [지식 그래프 시각화]                       │   │
│  │                                                     │   │
│  │        ●───────●                                   │   │
│  │       /         \                                   │   │
│  │      ●           ●──────●                          │   │
│  │       \         /                                   │   │
│  │        ●───────●                                   │   │
│  │                                                     │   │
│  │   ● 일반 노드  ● 하이라이트 노드 (답변에 사용됨)     │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                        질문 제출
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                       답변 표시                              │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🗺️ 서울 로컬 가이드                                  │   │
│  │                                                     │   │
│  │ 을지로 3가역 근처 노가리 골목은 퇴근 후 직장인들의    │   │
│  │ 성지입니다. 특히 "을지OB베어"는 40년 전통의...       │   │
│  │                                                     │   │
│  │ 성수동은 폐공장들이 힙한 카페로 변신한 곳입니다...   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐   │
│  │ 📄 기여 영수증                                       │   │
│  │                                                     │   │
│  │ ① 0x1a2b...anon  ████████████████░░░░  60%         │   │
│  │ ② 0x5e6f...anon  ████████░░░░░░░░░░░░  40%         │   │
│  │                                                     │   │
│  │ 이 답변은 위 기여자들의 지식을 기반으로 생성되었습니다 │   │
│  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
                    노드 클릭 → 상세 정보 확인
                              │
                              ▼
                    [기여하기] → Flow 3으로 이동
```

---

## Flow 3: 기여자 모드 (지식 기여)

```
┌─────────────────────────────────────────────────────────────┐
│                    지식 기여 화면                            │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ Step 1: 본인 인증                              ✓    │   │
│  │                                                     │   │
│  │ ┌─────────────────────────────────────────────────┐ │   │
│  │ │ ⚫ World ID로 인증하기                          │ │   │
│  │ └─────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                     인증 버튼 클릭
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    World App 인증                           │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │                      ⚫                             │   │
│  │                                                     │   │
│  │              Seed Vault에서                         │   │
│  │              인증을 요청합니다                       │   │
│  │                                                     │   │
│  │              [Orb로 인증]                           │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                      Orb 인증 완료
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    지식 입력 활성화                          │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ Step 1: 본인 인증                         ✓ 완료    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ Step 2: 지식 입력                                   │   │
│  │                                                     │   │
│  │ 제목                                                │   │
│  │ ┌─────────────────────────────────────────────────┐ │   │
│  │ │ 망리단길 숨은 카페                               │ │   │
│  │ └─────────────────────────────────────────────────┘ │   │
│  │                                                     │   │
│  │ 내용                                                │   │
│  │ ┌─────────────────────────────────────────────────┐ │   │
│  │ │ 망원역 2번 출구에서 도보 7분 거리에 있는         │ │   │
│  │ │ "달빛커피"는 직접 로스팅한 원두로 유명합니다.    │ │   │
│  │ │ 시그니처 메뉴는 달빛라떼(6,500원)...            │ │   │
│  │ └─────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │              지식 노드 추가하기                       │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                         제출 클릭
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    성공 애니메이션                           │
│                                                             │
│                         ✓                                   │
│                                                             │
│                   노드 추가 완료!                            │
│                                                             │
│           당신의 지식이 Seed Vault에                         │
│              영구 보존됩니다                                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
                              │
                        2초 후 자동 이동
                              │
                              ▼
                    그래프 탐색 화면으로 이동
                    (새 노드가 추가된 상태)
```

---

## Flow 4: 보상 확인

```
┌─────────────────────────────────────────────────────────────┐
│                    보상 대시보드                             │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ Contribution Power                            15%   │   │
│  │ ████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌────────────────────┐  ┌────────────────────┐            │
│  │        23          │  │         3          │            │
│  │   총 인용 횟수      │  │   기여한 노드       │            │
│  └────────────────────┘  └────────────────────┘            │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ⚫                                                   │   │
│  │                                                     │   │
│  │ 수령 가능한 보상                                     │   │
│  │ 0.0230 WLD                                          │   │
│  │                                                     │   │
│  │ ┌─────────────────────────────────────────────────┐ │   │
│  │ │                 Claim                           │ │   │
│  │ └─────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 최근 기여                                           │   │
│  │                                                     │   │
│  │ 🗺️ 서울 로컬 가이드 > 망리단길 숨은 카페            │   │
│  │    2026-02-05 • 인용 0회                            │   │
│  │                                                     │   │
│  │ 🗺️ 서울 로컬 가이드 > 을지로 골목 팁                │   │
│  │    2026-02-03 • 인용 15회                           │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                     [Claim] 클릭
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    보상 수령 (시뮬레이션)                    │
│                                                             │
│                         ✓                                   │
│                                                             │
│                0.0230 WLD 수령 완료!                        │
│                                                             │
│              (MVP: 실제 전송 없음)                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 사용자 여정 요약

```
┌──────────────┐     ┌──────────────┐     ┌──────────────┐
│   첫 방문     │────▶│  봇 선택     │────▶│  모드 선택    │
└──────────────┘     └──────────────┘     └──────────────┘
                                                │
                     ┌──────────────────────────┴──────────────────────────┐
                     ▼                                                     ▼
              ┌──────────────┐                                     ┌──────────────┐
              │  탐색 모드    │                                     │  기여 모드    │
              │  (검색자)     │                                     │  (기여자)     │
              └──────────────┘                                     └──────────────┘
                     │                                                     │
                     ▼                                                     ▼
              ┌──────────────┐                                     ┌──────────────┐
              │  질문 입력    │                                     │  Orb 인증    │
              └──────────────┘                                     └──────────────┘
                     │                                                     │
                     ▼                                                     ▼
              ┌──────────────┐                                     ┌──────────────┐
              │  답변 + 영수증│                                     │  지식 입력    │
              └──────────────┘                                     └──────────────┘
                     │                                                     │
                     └──────────────────────────┬──────────────────────────┘
                                                ▼
                                         ┌──────────────┐
                                         │  보상 확인    │
                                         └──────────────┘
```

---

## 에러 상태 (Comprehensive)

### 인증 에러

| Error Code | Trigger | User Message | UI Behavior |
|------------|---------|--------------|-------------|
| AUTH_TIMEOUT | 30초 응답 없음 | "연결 시간 초과. 다시 시도해주세요." | 재시도 버튼 표시 |
| AUTH_REJECTED | World App에서 거부 | "인증이 취소되었습니다." | 초기 상태로 리셋 |
| AUTH_EXPIRED | 세션 24시간 초과 | "다시 인증해주세요." | 로컬 인증 삭제, 재인증 안내 |
| APP_NOT_FOUND | World App 미설치 | "World App이 필요합니다." | App Store 링크 표시 |

### 입력 검증

| Field | Validation | Error Message | UI Indicator |
|-------|------------|---------------|--------------|
| 제목 | 최소 3자 | "제목이 너무 짧습니다 (최소 3자)" | 빨간 테두리 + 흔들림 |
| 제목 | 최대 100자 | "제목이 너무 깁니다 (최대 100자)" | 글자 수 빨간색 표시 |
| 내용 | 최소 20자 | "내용을 더 작성해주세요 (최소 20자)" | 빨간 테두리 + 도움말 |
| 내용 | 최대 2000자 | 글자 수 "2000/2000" 표시 | 추가 입력 방지 |

### 네트워크 상태

| State | Detection | UI Feedback |
|-------|-----------|-------------|
| 오프라인 | navigator.onLine === false | 배너: "연결 없음. 변경사항이 로컬에 저장됩니다." |
| 느린 연결 | API > 3초 | 스켈레톤 로더 + "로딩 중..." 텍스트 |
| 서버 에러 (5xx) | API response | "문제가 발생했습니다. 다시 시도해주세요." |

### 기타 에러

| 상황 | 화면 표시 | 다음 액션 |
|------|----------|----------|
| World App 외부 실행 | "World App에서 열어주세요" 배너 | Mock 모드로 기능 체험 가능 |
| 빈 입력 제출 | 버튼 비활성화 | 입력 필드 포커스 |

---

## 로딩 상태

### 스켈레톤 패턴

| Component | Skeleton Design |
|-----------|-----------------|
| BotCard | 회색 사각형 (200x80) + 3줄 텍스트 라인 |
| KnowledgeGraph | 중앙 펄싱 원형 애니메이션 |
| ContributionReceipt | 2개 수평 바 (60% + 40% 너비) |
| RewardGauge | 빈 게이지 + 쉬머 효과 |

### 로딩 시간

| Action | 예상 시간 | 스피너 표시 시점 |
|--------|----------|-----------------|
| 페이지 로드 | <1초 | 즉시 스켈레톤 |
| 그래프 렌더링 | 1-3초 | 500ms 후 |
| Orb 인증 | 5-30초 | 즉시 (진행률 표시) |
| 기여 제출 | 1-2초 | 즉시 |

---

## 마이크로 인터랙션

### 버튼 상태

| State | Visual Change | Duration |
|-------|---------------|----------|
| Default | 100% 투명도 | - |
| Hover | Scale 1.02, 밝기 +5% | 150ms |
| Active/Pressed | Scale 0.98, 밝기 -5% | 100ms |
| Disabled | 투명도 50% | - |
| Loading | 펄스 애니메이션, 스피너 | 무한 |

### 성공 피드백

```
┌─────────────────────────────────────┐
│                                     │
│              ✓                      │  ← Scale in (300ms spring)
│         (녹색 원형                  │     원형 확장 (200ms)
│          확장)                      │     체크마크 그리기 (300ms)
│                                     │
│      "노드가 추가되었습니다!"        │  ← Fade in + slide up (200ms)
│                                     │
└─────────────────────────────────────┘
```

### 토스트 알림

| Type | Icon | Duration | Position |
|------|------|----------|----------|
| Success | 체크마크 | 3초 | 하단 중앙 |
| Error | X 마크 | 5초 (또는 탭하여 닫기) | 하단 중앙 |
| Info | 정보 아이콘 | 4초 | 하단 중앙 |
